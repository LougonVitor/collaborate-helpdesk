    @model CriarChamadoModel
    @using HelpDesk.Enums
    @{
        ViewData["title"] = "Criar um chamado";
    }

    @if (TempData["MensagemErro"] != null)
    {
        <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;">
            <div class="toast show toast-shor" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <strong class="me-auto">Error</strong>
                    <small>Agora</small>
                    <button type="button" class="btn-close" aria-label="Fechar"></button>
                </div>
                <div class="toast-body">
                    @TempData["MensagemErro"]
                </div>
            </div>
        </div>
    }



    <div class="container mt-4">

        <h5 class="fw-semibold mb-3">Criar um chamado</h5>

        <div class="card p-4 shadow-sm">

            <h6 class="fw-semibold mb-4">Descreva o incidente ou a requisição</h6>

            <form method="post" asp-action="Criar" asp-controller="CriarChamado">
            

                <div class="mb-3">
                    <label class="form-label">Tipo</label>
                    <select class="form-select form-select-sm" id="Tipo" asp-for="Chamado.Tipo">
                        <option value="@TipoEnum.None" disabled selected>-----</option>
                        @if(Model.ListaTipo != null)
                        {
                            foreach(TipoModel tipo in Model.ListaTipo)
                            {
                                <option value="@tipo.Tipo">@tipo.Tipo</option>
                            }
                        }
                    </select>
                    @Html.ValidationMessageFor(o => o.Chamado.Tipo)
                </div>

                <div class="mb-3">
                    <label class="form-label">Categoria</label>
                    <select class="form-select form-select-sm" id="Categoria" asp-for="Chamado.Categoria">
                        <option value="@CategoriaEnum.None" disabled selected>-----</option>
                        @if (Model.ListaCategoria != null)
                        {
                            foreach (CategoriaModel categoria in Model.ListaCategoria)
                            {
                                <option value="@categoria.Categoria">@categoria.Categoria</option>
                            }
                        }
                    </select>
                    @Html.ValidationMessageFor(o => o.Chamado.Categoria)

                </div>

                <div class="mb-3">
                    <label class="form-label">Urgência</label>
                    <select class="form-select form-select-sm" asp-for="Chamado.Urgencia">
                        <option value="@UrgenciaEnum.None" disabled selected>-----</option>
                        <option value="@UrgenciaEnum.Baixa">Baixa</option>
                        <option value="@UrgenciaEnum.Media">Média</option>
                        <option value="@UrgenciaEnum.Alta">Alta</option>
                    </select>
                    @Html.ValidationMessageFor(o => o.Chamado.Urgencia)

                </div>

                <div class="mb-3">
                    <label class="form-label">Localização</label>
                    <select class="form-select form-select-sm" asp-for="Chamado.Localizacao">
                        <option value="@LocalizacaoEnum.None" disabled selected>-----</option>
                        @if (Model.ListaLocalizacao != null)
                        {
                            foreach (LocalizacaoModel localizacao in Model.ListaLocalizacao)
                            {
                                <option value="@localizacao.Localizacao">@localizacao.Localizacao</option>
                            }
                        }
                    </select>
                    @Html.ValidationMessageFor(o => o.Chamado.Localizacao)

                </div>

                <div class="mb-3">
                    <label class="form-label label-required">Título</label>
                    <input type="text" class="form-control form-control-sm" placeholder="Digite o título..." asp-for="Chamado.Titulo" />
                    @Html.ValidationMessageFor(o => o.Chamado.Titulo)

                </div>

                <div class="card p-3 mb-3 border description-area">

                    <h6 class="fw-semibold mb-3">Descrição do Problema</h6>

                    <div class="mb-3">
                        <label class="form-label small">IP do computador</label>
                        <input type="text" class="form-control form-control-sm" placeholder="Ex: 10.0.27.113" asp-for="Chamado.Ip">
                        @Html.ValidationMessageFor(o => o.Chamado.Ip)

                    </div>

                    <div class="mb-3">
                        <label class="form-label small">Ramal</label>
                        <input type="text" class="form-control form-control-sm" placeholder="..." asp-for="Chamado.Ramal">
                        @Html.ValidationMessageFor(o => o.Chamado.Ramal)

                    </div>

                    <div class="mb-3">
                        <label class="form-label small">Nome Completo</label>
                        <input type="text" class="form-control form-control-sm" placeholder="..." asp-for="Chamado.NomeUsuario">
                        @Html.ValidationMessageFor(o => o.Chamado.NomeUsuario)

                    </div>

                    <div class="mb-2">
                        <label class="form-label small">Descrição detalhada</label>
                        <textarea type="text" class="form-control form-control-sm" placeholder="Descreva o problema..." asp-for="Chamado.Descricao"></textarea>
                        @Html.ValidationMessageFor(o => o.Chamado.Descricao)

                    </div>

                </div>

                <div class="text-end">
                    <button class="btn btn-primary btn-sm px-4" type="submit">Enviar Chamado</button>
                </div>
            </form>

        </div>



    </div>

    <div class="card-footer bg-white border-0 mt-3 p-3 text-end position-sticky bottom-0"
         style="z-index: 10;">
        <button class="btn btn-primary btn-sm px-4"></button>
    </div>
